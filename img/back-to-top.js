var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},controlHTML:'<img src="/assets/frontend/layout/img/up.png" style="width:40px; height:40px" />',controlattrs:{offsetx:10,offsety:10},anchorkeyword:"#top",state:{isvisible:false,shouldvisible:false},scrollup:function(){if(!this.cssfixedsupport)this.$control.css({opacity:0});var e=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);if(typeof e=="string"&&jQuery("#"+e).length==1)e=jQuery("#"+e).offset().top;else e=0;this.$body.animate({scrollTop:e},this.setting.scrollduration)},keepfixed:function(){var e=jQuery(window);var t=e.scrollLeft()+e.width()-this.$control.width()-this.controlattrs.offsetx;var n=e.scrollTop()+e.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:t+"px",top:n+"px"})},togglecontrol:function(){var e=jQuery(window).scrollTop();if(!this.cssfixedsupport)this.keepfixed();this.state.shouldvisible=e>=this.setting.startline?true:false;if(this.state.shouldvisible&&!this.state.isvisible){this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]);this.state.isvisible=true}else if(this.state.shouldvisible==false&&this.state.isvisible){this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]);this.state.isvisible=false}},init:function(e){jQuery(document).ready(function(t){var n=scrolltotop;var r=document.all;n.cssfixedsupport=!r||r&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest;n.$body=window.opera?document.compatMode=="CSS1Compat"?t("html"):t("body"):t("html,body");n.$control=t('<div id="topcontrol"><img src="'+e+'/assets/frontend/layout/img/up.png" style="width:40px; height:40px" /></div>').css({position:n.cssfixedsupport?"fixed":"absolute",bottom:n.controlattrs.offsety,right:n.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Scroll Back to Top"}).click(function(){n.scrollup();return false}).appendTo("body");if(document.all&&!window.XMLHttpRequest&&n.$control.text()!="")n.$control.css({width:n.$control.width()});n.togglecontrol();t('a[href="'+n.anchorkeyword+'"]').click(function(){n.scrollup();return false});t(window).bind("scroll resize",function(e){n.togglecontrol()})})}}